<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.122.0"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Client Monitoring :: Velociraptor - Digging deeper!</title>
<link href=/css/nucleus.css?1728917965 rel=stylesheet><link href=/css/fontawesome-all.min.css?1728917965 rel=stylesheet><link href=/css/featherlight.min.css?1728917965 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1728917965 rel=stylesheet><link href=/css/auto-complete.css?1728917965 rel=stylesheet><link href=/css/theme.css?1728917965 rel=stylesheet><link href=/css/tabs.css?1728917965 rel=stylesheet><link href=/css/hugo-theme.css?1728917965 rel=stylesheet><link href=/css/theme-mine.css?1728917965 rel=stylesheet><link href=/css/dark.css?1728917965 rel=stylesheet><link href=/css/syntax.css?1728917965 rel=stylesheet><link href=/css/light.css?1728917965 rel=stylesheet><link href=/css/hljs.css?1728917965 rel=stylesheet><link href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css?1728917965 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1728917965></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYH72LMYCS"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYH72LMYCS",{anonymize_ip:!1})}</script><script>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-QYH72LMYCS","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script><script></script></head><body data-url=/docs/client_monitoring/><nav id=sidebar><div id=header-wrapper><div id=header><script>function darkmode(){$("body").addClass("dark").removeClass("light"),document.cookie="theme=darkmode;path=/"}function lightmode(){$("body").removeClass("dark").addClass("light"),document.cookie="theme=lightmode;path=/"}const regex=new RegExp("theme=darkmode");regex.test(document.cookie)?darkmode():lightmode()</script><div class="btn btn-default ThemeSelector darkmode" onclick=darkmode()><i class="fas fa-moon"></i></div><div class="btn btn-default ThemeSelector lightmode" onclick=lightmode()><i class="fas fa-sun"></i></div><a href=https://docs.velociraptor.app/><img src=https://docs.velociraptor.app//images/logo.svg></a></div></div><div class=highlightable><ul class=topics><li data-nav-id=https://docs.velociraptor.app/announcements/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/announcements/><i class="fas fa-bullhorn"></i>Announcements</a></div><ul><li data-nav-id=https://docs.velociraptor.app/announcements/2023-cves/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/announcements/2023-cves/>Current CVEs</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/ class="dd-item parent haschildren"><div><i class="fa fa-angle-down fa-sm category-icon"></i>
<a href=/docs/><i class="fas fa-book-reader"></i>Documentation</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/overview/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/overview/>Velociraptor Overview</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/overview/history/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/overview/history/>History</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/overview/support/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/overview/support/>Support Policy</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/deployment/>Deployment</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/deployment/self-signed/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/self-signed/>Self-Signed SSL</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/cloud/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/deployment/cloud/>Cloud Deployment</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/deployment/cloud/multifrontend/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/cloud/multifrontend/>Multi-Frontend</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/orgs/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/orgs/>Organizations</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/clients/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/clients/>Deploying Clients</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/security/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/security/>Security</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/resources/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/resources/>Performance</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/troubleshooting/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/troubleshooting/>Troubleshooting</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/references/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/references/>Config Reference</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/gui/>The Admin GUI</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/gui/clients/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/clients/>Inspecting clients</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/vfs/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/vfs/>The VFS</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/artifacts/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/artifacts/>Artifacts</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/hunting/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/hunting/>Hunting</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/vql/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/vql/>VQL Fundamentals</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/vql/notebooks/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/vql/notebooks/>Notebooks</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/vql/artifacts/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/vql/artifacts/>Artifacts</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/vql/join/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/vql/join/>JOIN in VQL</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/vql/events/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/vql/events/>Event Queries</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/forensic/>Forensic Analysis</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/forensic/filesystem/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/forensic/filesystem/>Searching Filenames</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/forensic/filesystem/paths/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/filesystem/paths/>Velociraptor Paths</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/filesystem/remapping/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/filesystem/remapping/>Remapping Accessors</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/searching/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/searching/>Searching Content</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/ntfs/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/ntfs/>NTFS Analysis</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/binary/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/binary/>Binary parsing</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/evidence_of_execution/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/evidence_of_execution/>Evidence Of Execution</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/event_logs/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/event_logs/>Event Logs</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/volatile/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/volatile/>Volatile State</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/offline_triage/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/offline_triage/>Triage and acquisition</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/offline_triage/remote_uploads/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/offline_triage/remote_uploads/>Remote Uploads</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/client_monitoring/ class="dd-item active"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/client_monitoring/>Client Monitoring</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/extending_vql/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/extending_vql/>Extending VQL</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/server_automation/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/server_automation/>Server Automation</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/server_automation/server_api/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/server_automation/server_api/>Server API</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/server_automation/server_monitoring/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/server_automation/server_monitoring/>Server Monitoring</a></div></li></ul></li></ul></li><li data-nav-id=https://docs.velociraptor.app/downloads/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/downloads/><i class="fas fa-download"></i>Downloads</a></div></li><hr><li data-nav-id=https://docs.velociraptor.app/vql_reference/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/vql_reference/><i class="fas fa-book"></i>VQL Reference</a></div><ul><li data-nav-id=https://docs.velociraptor.app/vql_reference/basic/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/basic/>Basic VQL</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/linux/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/linux/>Linux Specific</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/windows/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/windows/>Windows Specific</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/parsers/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/parsers/>Parsers</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/server/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/server/>Server Side</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/plugin/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/plugin/>Client Side</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/event/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/event/>Event Plugins</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/experimental/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/experimental/>Experimental</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/misc/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/misc/>Misc</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/accessors/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/accessors/>Accessors</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/training/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/training/><i class="fas fa-graduation-cap"></i>Training</a></div><ul><li data-nav-id=https://docs.velociraptor.app/training/playbooks/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/training/playbooks/><i class="fas fa-play"></i>Playbooks</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/blog/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/blog/><i class="fas fa-newspaper"></i>Blog</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/presentations/><i class="fas fa-chalkboard-teacher"></i>Presentations</a></div><ul><li data-nav-id=https://docs.velociraptor.app/presentations/2022_linuxconf_au/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_linuxconf_au/>Linux Conf Au 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_auscert/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_auscert/>Auscert 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_sans_summit/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_sans_summit/>SANS Summit 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_velocon/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_velocon/>Velocon 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_dfrws_apac/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_dfrws_apac/>DFRWS APAC 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2023_everything_open/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2023_everything_open/>EverythingOpen 2023</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2023_velocon/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2023_velocon/>VeloCON 2023</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2024_auscert/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2024_auscert/>Auscert 2024</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2024_auscert-detection-engineering/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2024_auscert-detection-engineering/>Auscert 2024 Talk</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/exchange/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/exchange/><i class="fas fa-code"></i>Artifact Exchange</a></div></li><li data-nav-id=https://docs.velociraptor.app/artifact_references/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/artifact_references/><i class="fas fa-book"></i>Artifact Reference</a></div></li><li data-nav-id=https://docs.velociraptor.app/knowledge_base/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/knowledge_base/><i class="fas fa-brain"></i>Knowledge Base</a></div></li><li data-nav-id=https://docs.velociraptor.app/search/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/search/><i class='fas fa-search'></i>Search</a></div></li></ul><hr><section id=shortcuts><h3></h3><ul><li><a class=padding href=https://github.com/Velocidex/velociraptor><i class='fab fa-github'></i>Github</a></li><li><a class=padding href=https://docs.velociraptor.app/discord/><i class='fab fa-discord'></i>Discord</a></li><li><a class=padding href=https://docs.velociraptor.app/youtube/><i class='fab fa-youtube'></i>YouTube</a></li><li><a class=padding href=mailto:velociraptor-discuss@googlegroups.com><i class='fas fa-envelope'></i>Mailing List</a></li><li><a class=padding href=https://docs.velociraptor.app/rss/><i class='fas fa-rss'></i>RSS</a></li><li><a class=padding href=https://docs.rapid7.com/insightidr/velociraptor-integration/><i class='fa fa-question-circle'></i>Rapid7 Docs</a></li></ul></section><section id=footer><div class=footer-copyright>Brought to you by
<img src=/images/Rapid7_logo.svg class=rapid7><br><i class="fas fa-copyright"></i> 2024</div></section></div></nav><script>$("#sidebar i.fa-angle-right").each(function(){$(this).parent().parent().find("ul").hide()})</script><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/Velocidex/velociraptor-docs/edit/master/content/docs/client_monitoring/_index.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>Client Monitoring</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#client-monitoring-architecture>Client monitoring architecture</a></li><li><a href=#installing-client-event-queries>Installing client event queries.</a></li><li><a href=#selecting-event-artifacts-to-apply>Selecting event artifacts to apply</a></li><li><a href=#inspecting-the-current-monitoring-table>Inspecting the current monitoring table</a></li><li><a href=#viewing-collected-events>Viewing collected events.</a></li><li><a href=#further-processing-client-monitoring-events>Further processing client monitoring events.</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Client Monitoring</h1><p>We have previously seen the VQL <a href=/docs/vql/events/>Event Queries</a> are simply VQL queries that never terminate,
generating a row for each event that occurs.</p><p>We can use this property to monitor for events on the endpoint. In
order to build an effective client monitoring framework we need three
components:</p><ol><li><p>A number of event plugins that can detect events on the
endpoint. For example, <code>watch_etw()</code> allows Velociraptor to monitor
ETW events on Windows, <code>watch_syslog()</code> allows following syslog
events on Linux etc.</p></li><li><p>Once events are detected by VQL plugins, we can use the rest of the
VQL query to post process these events by applying further
filtering or enriching with additional data.</p></li><li><p>Finally a client monitoring architecture must be used to ensure
event queries are always running and forward these events to the
server.</p></li></ol><p>In this page we discuss the client monitoring architecture and
demonstrate how it can be used to feed events from the endpoint to the
server.</p><div class="mynotices tip"><div heading=tip><p>VQL event plugins generally start with the word &ldquo;watch&rdquo; to indicate
they are event plugins (e.g. <code>watch_etw</code>, <code>watch_evtx</code>, <code>watch_usn</code>
etc). Sometimes there will be a related non-event plugin for example
<code>parse_evtx()</code> simply parses the event log file beginning to end,
while <code>watch_etvx()</code> watches the file for new events and does not
terminate.</p><p>You can search for all plugins on the <a href=/vql_reference/>VQL Reference page</a>, so simply read about all available event queries <a href=/vql_reference/event/>here</a>.</p></div></div><h2 id=client-monitoring-architecture>Client monitoring architecture</h2><p>The client maintains a set of VQL Event Queries that are all run in
parallel. This is called the <code>Client's Event Table</code> and it gets synced
from the server when needed. The client writes these Event Queries in
the <code>writeback file</code> so they become available as soon as the client
starts - even when not online!</p><p>If the client is offline, these will be queued in the client’s local
file buffer, until the client reconnects again, at which time they are
synced back to the server. This architecture ensures that clients can
not lose events, event when not online. It also means that clients are
able to monitor for events autonomously - the server is only needed to
refresh the client&rsquo;s event tables.</p><p>When any of these produce rows, the client streams the events to the
server which in turn, writes them to the filestore.</p><p><figure id=81df18439802c9f8042067c28d5050b3><div data-featherlight=#81df18439802c9f8042067c28d5050b3 class=figure><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 857.474356775391 620.17507" width="857.474356775391" height="620.17507"><defs/><rect x="0" y="0" width="857.474356775391" height="620.17507" fill="#fff"/><g stroke-linecap="round"><g transform="translate(249.52864593747495 110) rotate(180 50 20)" fill-rule="evenodd"><path d="M0 0M0 0M-.26 6.4C1.58 5.14 2.66 3.56 4.99.36M-.26 6.4C1.58 4.65 3.14 2.53 4.99.36M.13 12.04C1.34 9.5 5.18 6.49 10.63-.03M.13 12.04C3.18 9.13 4.66 6.3 10.63-.03M-.13 18.44C3.59 13.7 7.92 11.61 15.62.33M-.13 18.44C3.83 13 8.01 8.18 15.62.33M.27 24.08C6.15 14.85 16.08 6.22 21.26-.07M.27 24.08C8.01 14.66 16.41 4.23 21.26-.07M0 30.48C4.08 22.19 14 15.19 26.25.29M0 30.48C7.02 21.87 14.16 14.29 26.25.29M-.26 36.88C12.81 22.28 23.04 9.04 31.89-.1M-.26 36.88C6.23 29.47 13.9 19.15 31.89-.1M2.11 40.26c9.94-10.77 18.25-22.14 34.77-40m-34.77 40C12.25 29.37 21.86 17.29 36.88.26M7.09 40.62C17.81 28.53 28.76 14.4 42.52-.14M7.09 40.62C18.99 26.25 31.84 12.03 42.52-.14M12.74 40.22C24.32 25.44 36.89 13.27 47.51.22m-34.77 40C24.3 26.57 36.45 11.78 47.51.22M60.63-14.87C61.02-15.24 61.52-15.57 62.6-17.14m-1.97 2.27C61.42-15.66 62.15-16.62 62.6-17.14M17.72 40.58C30.01 26.46 41.83 16.61 53.15-.17M17.72 40.58C29.4 28.38 40.69 14.54 53.15-.17m7.22-8.3C61.1-9.93 63.02-12.01 65.62-14.51M60.37-8.47C61.65-9.71 62.59-11.28 65.62-14.51M23.37 40.19c10.81-11.46 20.2-24 34.77-40m-34.77 40c9.07-10.31 19.36-21.13 34.77-40m2.62-3.02c2.88-2.67 4.95-3.75 7.87-9.06M60.76-2.83c2.86-3.33 5.8-5.93 7.87-9.06M28.35 40.55C42.33 28.38 54.64 12.91 71-8.51M28.35 40.55C41.87 26.48 54.69 10.09 71-8.51M34 40.15C46.08 27.49 56.99 14.42 74.02-5.88M34 40.15C44.02 27.54 54.38 16 74.02-5.88M38.98 40.51C52.84 23.87 69.78 5.07 77.03-3.26M38.98 40.51C52.25 25.33 65.66 9.55 77.03-3.26M43.97 40.87C54.01 27.69 64.95 15.6 80.05-.64M43.97 40.87C56.39 27.54 66.84 13.71 80.05-.64M49.61 40.48C61.39 28.85 70.46 17.72 82.42 2.74M49.61 40.48C60.99 27.16 73.44 11.6 82.42 2.74M54.6 40.84C67 28.78 78.88 11.96 85.44 5.37M54.6 40.84c9.16-9.67 16.65-19.37 30.84-35.47M60.24 40.44c11.24-13 20.58-23.72 28.21-32.45M60.24 40.44C69.42 28.81 78.8 19.56 88.45 7.99M60.64 46.09C67.46 40.23 74.7 32.74 90.82 11.37M60.64 46.09c10.49-11.12 19.3-22.88 30.18-34.72M60.38 52.48C72.2 40.27 81.79 27.14 93.84 13.99M60.38 52.48C68.77 42.4 77.21 32.86 93.84 13.99M60.12 58.88c15.03-16.4 26.53-34.14 36.73-42.26M60.12 58.88C71.34 47.14 81.94 33.75 96.85 16.62M90.69 29.81C92.94 26.33 96.74 23.21 99.87 19.24M90.69 29.81C93.88 25.9 96.75 21.57 99.87 19.24" stroke="#ced4da" stroke-width=".5" fill="none"/><path d="M0 0C-1.97 10.62 1.42 20.79.0 40M0 0C-.45 11.56.34 21.37.0 40m0 0c12.84 1.03 24.62-1.07 60 0M0 40C16.67 38.93 35.55 39.93 60 40m0 0C59.11 46.19 60.55 49.59 60 60m0-20C60.18 45.54 59.29 48.93 60 60m0 0c10.83-7.99 17.61-18.55 40-40M60 60c14.66-15.96 30.04-30.33 40-40m0 0C87.75 8.58 73.99-3.77 60-20m40 40C91.48 12.01 84.16 3.23 60-20m0 0C60.27-15.64 60.88-12.26 60 0m0-20C59.7-16.52 60.43-11.73 60 0m0 0C39.17.51 13.43-1.59.0.0M60 0C44.73 1.43 27.98.08.0.0M0 0M0 0" stroke="#000" stroke-width="1" fill="none"/></g></g><mask/><g stroke-linecap="round"><g transform="translate(130.3011424594573 87.88958144054214) rotate(0 49.115861351968874 44.12644704077607)" fill-rule="evenodd"><path d="M-1.59-.47C-1.64 12.83-1.7 65.81-1.27 80.3-.85 94.79.31 84.44.96 86.45 1.62 88.46-.57 91.01 2.67 92.37 5.9 93.72 12.45 93.83 20.37 94.58 28.29 95.32 40.14 96.88 50.21 96.84 60.28 96.81 73.04 95.64 80.81 94.37 88.57 93.1 93.89 90.22 96.79 89.23 99.7 88.23 98.05 89.89 98.23 88.41 98.4 86.94 97.67 94.23 97.82 80.38 97.97 66.54 98.9 18.64 99.12 5.36S100.27 2.54 99.12.7C97.97-1.14 95.57-4.69 92.2-5.66 88.82-6.64 86.48-4.65 78.89-5.14c-7.58-.49-23.28-3.14-32.21-3.47C37.74-8.94 32.38-8.21 25.28-7.13c-7.1 1.08-16.9 3.67-21.18 5C-.18-.8.46.23-.41.82s-.72.45-.73.59" stroke="none" stroke-width="0" fill="#ced4da" fill-rule="evenodd"/><path d="M-.33-.45c.15 12.84-.13 63.88.03 78.66.15 14.78.16 7.53.9 10C1.34 90.67.48 91.71 4.15 93.02c3.67 1.3 10.39 2.59 18.46 3.03C30.68 96.5 42.87 95.74 52.59 95.69 62.32 95.64 73.66 96.51 80.96 95.78 88.26 95.05 93.68 92.68 96.38 91.31 99.08 89.95 96.77 89.28 97.16 87.6 97.54 85.93 98.58 94.55 98.71 81.25 98.84 67.96 98.03 21.57 97.94 7.85 97.86-5.88 99.19.78 98.21-1.09 97.23-2.97 95.46-2.69 92.06-3.41 88.67-4.13 85.13-4.47 77.86-5.42 70.6-6.37 57.63-8.73 48.47-9.13 39.3-9.52 30.42-8.6 22.88-7.79 15.33-6.98 6.82-5.45 3.2-4.27-.43-3.1 1.74-1.52 1.11-.75.48.03-.29.2-.56.39M1.7-1.73c.64 13.45.64 65.69.38 80.88C1.82 94.34-.16 87.48.14 89.43.45 91.38.42 89.63 3.92 90.84 7.41 92.05 12.75 95.52 21.12 96.68 29.49 97.84 44.02 98.13 54.12 97.82 64.22 97.52 74.79 95.97 81.7 94.85 88.62 93.73 92.79 92.56 95.62 91.11 98.46 89.66 98.03 87.8 98.71 86.15 99.39 84.5 99.79 94.61 99.7 81.21 99.62 67.82 98.63 19.66 98.21 5.8 97.78-8.06 98.07-.32 97.16-1.93 96.25-3.53 96.08-3.28 92.74-3.81 89.41-4.33 84.39-4.01 77.14-5.06c-7.25-1.05-18.99-4.73-27.9-5.02C40.34-10.38 31.05-7.84 23.68-6.82 16.32-5.81 8.95-4.99 5.07-3.98 1.2-2.97 1.04-1.55.44-.75-.17.06 1.54.92 1.43.85" stroke="#000" stroke-width="1" fill="none"/></g></g><mask/><g stroke-linecap="round" transform="translate(130.64977426803875 78.39713611094544) rotate(0 48.85365355456008 8.173286733171437)"><path d="M56.49.31c9.09.07 20.62.76 27.39 1.93C90.65 3.41 95.7 5.73 97.1 7.35 98.5 8.96 96.61 10.56 92.27 11.91 87.92 13.25 79.56 14.72 71.03 15.41 62.5 16.09 50.54 16.27 41.1 16.01 31.66 15.74 21.09 14.86 14.39 13.82 7.69 12.78 2.45 11.4.89 9.76-.67 8.13.69 5.46 5.03 3.99 9.36 2.52 18.14 1.53 26.91.94 35.67.35 52.16.5 57.61.46c5.46-.05 2.02.21 2.01.23M46.67-.7c9.1-.4 20.94.24 28.81 1.3 7.86 1.06 15.03 3.52 18.37 5.06C97.19 7.2 97.95 8.38 95.5 9.84 93.04 11.31 86.49 13.45 79.11 14.45s-18.36 1.23-27.91 1.4C41.65 16.01 29.84 16.2 21.82 15.44S6.47 12.89 3.07 11.3C-.32 9.71-.99 7.55 1.46 5.88c2.44-1.67 8.8-3.69 16.31-4.6C25.27.37 41.58.69 46.5.4 51.42.11 47.32-.45 47.29-.46" stroke="none" stroke-width="0" fill="#fff"/><path d="M55.11.04C64.26.2 75.48 1.18 82.36 2.29 89.25 3.4 94.57 5.1 96.42 6.69 98.27 8.29 97.42 10.46 93.46 11.84 89.5 13.22 81.08 14.21 72.65 14.98 64.21 15.75 52.3 16.61 42.84 16.46 33.38 16.32 22.77 15.18 15.86 14.11 8.95 13.03 3.33 11.52 1.39 10.02-.54 8.51.24 6.58 4.25 5.08c4.02-1.51 12.63-3.3 21.26-4.07C34.14.23 50.97.59 56.04.44 61.11.28 56.15.07 55.93.08M39.66.38C48.31.11 60.98.36 69.63 1.04c8.64.68 17.36 2.06 21.89 3.4C96.04 5.79 98.09 7.5 96.79 9.11 95.5 10.72 90.23 13.01 83.76 14.1c-6.47 1.08-16.32 1.27-25.77 1.52C48.53 15.86 35.83 16.21 27.03 15.57 18.23 14.93 9.74 13.15 5.19 11.75.65 10.35-1.62 8.73-.24 7.16 1.14 5.6 6.71 3.62 13.47 2.35 20.22 1.09 35.83-.12 40.3-.42 44.76-.73 40.18.28 40.26.5" stroke="#000" stroke-width="1" fill="none"/></g><g stroke-linecap="round" transform="translate(400.56980713632333 75.9494327954323) rotate(0 69.99500755991608 68.64894972222535)"><path d="M-.81-2.26 137.16 1.87 141.24 140.24-.12 139" stroke="none" stroke-width="0" fill="#868e96"/><path d="M-.28-3.06c30.97.43 59.42.28 136.51 1.41M-.22-1.5C33.05-1.94 65.19.35 141.87-.1M142.09 2.48C146.03 39.86 143.2 79.85 136.34 134.26M139.87 1.02C141.72 32.71 139.52 64.13 138.7 135.49M142.68 133.5C100.18 137.44 54.39 137.26-.37 136.19M139.09 137.87C108.36 139.17 78.94 139.69-.55 138.25m2.15 1.41C2.73 85.5.61 35.04 2.63-1.06M-1.99 137.95C2.44 87.62 1.38 37.95.95-.14" stroke="#000" stroke-width="1" fill="none"/></g><g stroke-linecap="round" transform="translate(391.43007441840837 66.97122701803471) rotate(0 69.99500755991608 68.64894972222532)"><path d="M-2.83 1.87 141.24 2.94 139.87 139 2.6 140.13" stroke="none" stroke-width="0" fill="#ced4da"/><path d="M-.06-1.13C47.15.87 95.28.49 137.13.64M1.08-.8C48.98 3.59 97.33 2 140.06 1.93M143.38-1.82C141.99 34.03 137.77 72.04 137.44 139.46M140.23.29C137.87 42.15 138.54 83.91 140.19 138.47m3.41-1.03C99.27 134.61 55.7 133.53-3.2 134.48M139.15 137.3C89.16 138.61 36.72 139.04 1.72 136.41M1.51 138.51C-1.7 88.35 1.53 30.78 2.54-1.32M1.53 137.53C3.2 95.32 3.68 52.26-.4-1.13" stroke="#000" stroke-width="1" fill="none"/></g><g stroke-linecap="round" transform="translate(381.2673377438448 56.92963554886302) rotate(0 69.99500755991608 68.64894972222535)"><path d="M1.25 2.94 139.87 1.7l2.72 138.43-144.6-1.87" stroke="none" stroke-width="0" fill="#eee"/><path d="M-2.37-1.27c29.89.41 62.07 2.7 144 .83M1.25 1.49c32.11-.47 61.79 1.56 138.21-.44m1.09-4.56C138.66 46.66 139.76 101.57 140.48 137.07M138.03-.71C139.04 46.35 140.52 97.49 139.98 138.64M141.23 137.27C110.91 136.29 79.36 134.58 2.68 135.49M140.52 137.81C93.45 138.25 49.73 136.42 1.68 138.1M-.6 141.07C1.6 86.95 1.5 37.41.37-3.98m.1 141.75C-1.15 91.5-2.51 44.85-1.41.94" stroke="#000" stroke-width="1" fill="none"/></g><g transform="translate(404.36954903377864 89.38809879435587) rotate(0 47.922203063964844 37.64240467852318)"><text x="47.922203063964844" y="25.98920233926158" font-family="Excalifont, Segoe UI Emoji" font-size="28" fill="#000" text-anchor="middle" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">Event</text><text x="47.922203063964844" y="63.631607017784745" font-family="Excalifont, Segoe UI Emoji" font-size="28" fill="#000" text-anchor="middle" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">queries</text></g><g stroke-linecap="round" transform="translate(10 10) rotate(0 387.91186800000014 118.5)"><path d="M32 0C228.95 2.23 424.46 3.2 743.82.0M32 0C210.97 1.06 389.51 1.26 743.82.0m0 0C768.51 1.71 773.13 11.4 775.82 32m-32-32c23.37-1.99 35.38 12.28 32 32m0 0C777.96 85.54 777.07 140.09 775.82 205m0-173C778.63 79.84 777.7 126.35 775.82 205m0 0C775.51 228.07 762.55 238.72 743.82 237m32-32C773.83 224.79 769.52 233.93 743.82 237m0 0C469.47 237.13 193.87 238.71 32 237m711.82.0C491.81 235.36 239.78 234.94 32 237m0 0c-17.86-2.66-35.77-10.66-32-32m32 32C14.39 240.05 3.8 223.71.0 205m0 0C-.58 147.04-.78 87.22.0 32M0 205c1.87-48.34.38-95.09.0-173m0 0C-.95 11.18 13.65 3.8 32 0M0 32C.78 11.38 8.67 1.31 32 0" stroke="#1e1e1e" stroke-width="1" fill="none"/></g><g stroke-linecap="round" transform="translate(115.36768019082297 418.80319759800636) rotate(0 66.21622251740888 42.2892567981408)"><path d="M21.14.0c33.34-1.3 65.71 2.23 90.15.0M21.14.0c27.47-.21 53.2-.56 90.15.0m0 0c12.23-1.32 22.25 8.5 21.14 21.14M111.29.0c13.54.03 19.69 4.96 21.14 21.14m0 0C131.62 28.42 133.4 39.73 132.43 63.43m0-42.29C131.76 30.5 133.16 39.49 132.43 63.43m0 0C130.97 76.71 127.21 86.15 111.29 84.58m21.14-21.15C133.54 78 127.68 86.06 111.29 84.58m0 0C83.96 85.66 58.34 84.92 21.14 84.58m90.15.0C80.26 85.74 47.69 85.18 21.14 84.58m0 0C6.65 84.98-1.11 77.28.0 63.43M21.14 84.58C5.5 83.95-1.61 79.78.0 63.43m0 0c1.58-7.35 1.52-16.7.0-42.29M0 63.43C-.67 51.55-.75 40.31.0 21.14m0 0C-1.15 7.53 6.26-.78 21.14.0M0 21.14C-.09 5.33 6.26.72 21.14.0" stroke="#868e96" stroke-width="2" fill="none"/></g><g stroke-linecap="round"><g transform="translate(161.77572814603275 517.1734069921663) rotate(0 23.8602062624999 0.2520771874524712)"><path d="M-.43-.16C7.64-.09 40.21.41 48.26.5M.35-.72C8.41-.56 40.23.93 48.11 1.2" stroke="#868e96" stroke-width="2" fill="none"/></g></g><mask/><g stroke-linecap="round" transform="translate(202.15885800175147 461.02387281019435) rotate(0 27.46938864480245 26.350001940886955)"><path d="M31.09-.62c5.5.23 12.32 4.09 16.18 8.56 3.86 4.47 6.59 12.49 7 18.25C54.67 31.95 53.25 38.27 49.7 42.5 46.16 46.72 39.02 50.52 32.98 51.54 26.94 52.55 18.55 51.16 13.47 48.58 8.4 45.99 4.62 41.22 2.52 36.01.42 30.8-.94 22.55.88 17.29 2.7 12.04 7.63 7.03 13.46 4.48 19.28 1.93 31.09 2.21 35.82 2c4.74-.22 6.06.77 6.03 1.19M23.07 1.77C28.76.47 35.81.76 41.04 3.36c5.22 2.61 11.29 8.81 13.37 14.03C56.49 22.61 55.64 29.58 53.54 34.71c-2.09 5.12-6.89 10.43-11.71 13.42C37.01 51.12 30.36 53.21 24.63 52.66 18.9 52.11 11.78 48.8 7.47 44.82s-8.62-10.36-8.7-16.06C-1.31 23.06 3.15 15.38 6.98 10.62 10.81 5.87 19.34 1.74 21.76.2 24.19-1.34 21.57.94 21.52 1.4" stroke="#868e96" stroke-width="2" fill="none"/></g><g stroke-linecap="round" transform="translate(205.38201272615288 464.2107288032088) rotate(0 24.357120071434565 22.712288851615767)"><path d="M19.93.94C24.75-.14 31.9.97 36.4 3.2c4.5 2.23 8.61 6.75 10.52 11.14 1.91 4.39 2.56 10.65.93 15.21-1.63 4.55-6.27 9.57-10.71 12.13-4.45 2.55-10.83 3.89-15.97 3.21-5.15-.68-11.36-3.71-14.92-7.31C2.7 33.99.04 28.17-.19 23.31c-.22-4.86 1.62-11 5.09-14.89C8.38 4.53 17.85 1.29 20.65-.04c2.79-1.32.98.08 1.03.49m4.98-.53c4.96.1 11.66 3.12 15.25 6.67 3.59 3.55 6.06 9.63 6.28 14.62C48.41 26.2 46.31 32.53 43.21 36.55 40.12 40.56 34.68 44.23 29.62 45.3c-5.06 1.07-12.07-.18-16.79-2.34C8.12 40.8 3.4 36.7 1.34 32.32-.72 27.94-1.27 21.57.47 16.68 2.2 11.79 7.31 5.83 11.75 2.99 16.19.14 24.57.0 27.11-.4 29.65-.79 27.06.06 26.99.61" stroke="none" stroke-width="0" fill="#fff"/><path d="M26.49-.35c4.95.32 11.28 3.99 15.04 7.54 3.75 3.56 7.06 9.03 7.49 13.79C49.44 25.73 47.29 31.84 44.09 35.72c-3.2 3.89-9.25 7.32-14.26 8.55C24.81 45.51 18.67 45.24 14.01 43.13 9.35 41.02 4 36.01 1.85 31.62-.3 27.23-.3 21.35 1.11 16.77c1.41-4.58 4.7-9.79 9.21-12.62C14.83 1.32 25.12.3 28.16-.22c3.04-.51.57.9.41 1.29M22.24.27c4.91-.78 12.28 1.4 16.54 4.13 4.25 2.73 7.69 7.69 8.97 12.24C49.03 21.2 48.51 27.3 46.46 31.74 44.41 36.17 40.08 41.02 35.44 43.26c-4.65 2.23-11.61 2.96-16.85 1.87C13.35 44.04 6.98 40.7 3.99 36.73 1 32.75.17 26.3.66 21.29c.49-5 2.74-11.09 6.25-14.59C10.42 3.19 19.29 1.31 21.73.27 24.16-.77 21.52.16 21.51.48" stroke="#868e96" stroke-width="2" fill="none"/></g><g stroke-linecap="round" transform="translate(260.23189632618687 498.5479182753754) rotate(314.383138763751 3.412097691434269 19.939028080396895)"><path d="M1.71.0c.42-.28 1.38-.37 3.41.0 1.95-1.04 3.35-1.32 1.7 1.71-2.37 12.63 2.15 19.13.0 36.46C6.4 37.38 5.6 39.86 5.12 39.88 4.6 40.3 3.36 39.72 1.71 39.88-2 39.49-2.34 41.68.0 38.17-1.66 26.73-1.58 13.3.0 1.71 1.37 2.22 3.09.59 1.71.0" stroke="none" stroke-width="0" fill="#343a40"/><path d="M1.71.0C2.76-.16 3.83-.17 5.12.0M1.71.0c.77-.01 1.54-.09 3.41.0m0 0c.2.6 1.69.04 1.7 1.71M5.12.0c.31.41 2.38-.33 1.7 1.71m0 0C6.93 14.98 6.54 26.49 6.82 38.17m0-36.46c.41 9.55.67 19.22.0 36.46m0 0c-.04 1.32-.73 1.35-1.7 1.71m1.7-1.71c.71 1.3-.28 2.32-1.7 1.71m0 0C4.43 39.9 3.6 39.86 1.71 39.88m3.41.0C3.97 39.85 2.87 39.96 1.71 39.88m0 0C-.24 40.5-.69 40.23.0 38.17m1.71 1.71C1.67 40.9 1.06 39.11.0 38.17m0 0C-.08 26.64.62 16.08.0 1.71M0 38.17C.05 25.97-.1 14.68.0 1.71m0 0C-.65.77.26.11 1.71.0M0 1.71C-.23 1.11.32.58 1.71.0" stroke="#868e96" stroke-width="2" fill="none"/></g><g stroke-linecap="round"><g transform="translate(130.5389167638466 469.20161397616687) rotate(0 35.76467265666258 -2.4402216358435567)"><path d="M-1.09-.91c2.7-.22 13.8-3.26 17.77-.93 3.98 2.33 4.34 16.57 6.07 14.9 1.74-1.66 2.18-25.57 4.35-24.91 2.18.66 5.75 30.6 8.7 28.87C38.74 15.28 41.76-21.08 44.78-22.26c3.02-1.18 7.04 28.22 9.13 32.18C56 13.88 54.27 3.27 57.32 1.49 60.37-.29 69.76-.68 72.23-.74M.54 1.23C3.55 1.18 15.18-2.38 18.81-.72c3.63 1.66 2.13 13.57 3.52 11.9 1.4-1.67 2.32-22.86 4.87-21.92C29.74-9.79 34.52 18.86 37.59 16.83 40.66 14.8 42.77-22.1 45.6-22.92 48.42-23.74 52.22 7.85 54.54 11.9c2.32 4.05 2.23-8.72 4.96-10.53 2.74-1.81 9.14-.29 11.43-.33" stroke="#868e96" stroke-width="2" fill="none"/></g></g><mask/><g transform="translate(669.0375839999999 28.274277000000012) rotate(0 42.210182189941406 16.099999999999994)"><text x="0" y="25.311999999999998" font-family="Nunito, Segoe UI Emoji" font-size="28" fill="#1971c2" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">Client</text></g><g transform="translate(51.044811000000095 94.588484) rotate(0 30.059974670410156 37.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">Local</text><text x="0" y="42.62" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">client</text><text x="0" y="67.62" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">buffer</text></g><g stroke-linecap="round"><g transform="translate(452.2410090089313 400.57817830237593) rotate(0 70.67105710197325 76.75231290449949)" fill-rule="evenodd"><path d="M-2.16-2.19c-.42 22.53.54 112.57.96 138.48.43 25.91.55 12.65 1.6 17C1.46 157.63-.51 159.82 5.14 162.36 10.79 164.9 22.25 167.81 34.31 168.53 46.37 169.25 64 167.58 77.48 166.68 90.96 165.79 105.4 164.45 115.17 163.16 124.93 161.86 132.06 160.88 136.09 158.94 140.12 156.99 138.17 154.54 139.34 151.48 140.52 148.42 142.75 164.18 143.16 140.57 143.57 116.97 142.49 33.02 141.79 9.85 141.09-13.32 140.5 4.46 138.95 1.57 137.41-1.33 137.24-5.25 132.52-7.51c-4.73-2.26-11.2-2.97-21.93-4.48-10.73-1.51-29.72-4.73-42.47-4.58-12.75.16-23.6 4.11-34.02 5.5S11.55-9.96 5.62-8.23C-.32-6.5-.48-1.97-1.52-.68-2.55.6-.88-.42-.57-.52" stroke="none" stroke-width="0" fill="#ced4da" fill-rule="evenodd"/><path d="M-.11-.23C-.06 22.8-.44 112.58-.53 138.18c-.09 25.6-1.23 11.26-.11 15.18C.47 157.28.45 159.59 6.15 161.68 11.86 163.78 21.93 164.78 33.57 165.93 45.21 167.09 62.33 168.75 76 168.63 89.66 168.51 105.08 166.76 115.59 165.23 126.09 163.7 134.67 161.38 139.03 159.47 143.38 157.56 141.46 156.87 141.72 153.78 141.97 150.68 140.83 164.75 140.55 140.89 140.27 117.03 140.01 34.01 140.06 10.59 140.11-12.82 142.34 3.5 140.83.41 139.32-2.67 135.59-5.95 130.99-7.9 126.39-9.84 123.44-9.97 113.22-11.26 103.01-12.54 83.15-15.3 69.7-15.6 56.24-15.9 42.91-14.55 32.49-13.06c-10.42 1.49-19.7 4.4-25.32 6.39C1.55-4.69.05-2.22-1.23-1.14c-1.29 1.08.37.71.68.96M-1.63-1.4c.49 23.25 3.31 115.22 3.29 141.2-.02 25.98-4.11 11.36-3.42 14.68C-1.07 157.8.08 157.79 5.81 159.73S21.24 164.79 32.62 166.15C44 167.5 60.2 168.26 74.08 167.89 87.96 167.51 105.15 165.26 115.9 163.9 126.65 162.53 134.49 161.52 138.58 159.7 142.67 157.89 140.04 156.13 140.43 153 140.81 149.87 140.96 164.58 140.86 140.93 140.77 117.27 140.04 34.47 139.84 11.06 139.65-12.34 141.15 3.84 139.69.5 138.23-2.85 135.52-7.03 131.09-9.02 126.66-11.01 123.79-10.78 113.11-11.45c-10.69-.67-32.76-1.49-46.12-1.6C53.63-13.15 43.05-13.18 32.96-12.06 22.88-10.94 11.9-8.11 6.5-6.32 1.09-4.54 1.38-2.38.54-1.33c-.85 1.05.74 1.29.89 1.3" stroke="#000" stroke-width="1" fill="none"/></g></g><mask/><g stroke-linecap="round" transform="translate(451.3338233128047 384.4603352699954) rotate(0 70.29377567570486 14.216387288622627)"><path d="M77.23-.5c11.03.04 25.03 1.52 34.58 3.05C121.35 4.07 129.88 6.33 134.52 8.67 139.15 11 140.91 14.34 139.61 16.56 138.31 18.78 133.53 20.28 126.72 21.99c-6.8 1.72-17.24 3.84-27.95 4.84-10.7 1.01-24.47 1.27-36.28 1.21C50.68 27.99 37.45 27.91 27.91 26.5 18.37 25.08 9.9 21.75 5.25 19.57.6 17.4-1.26 15.85.0 13.46c1.26-2.4 5.71-6.13 12.79-8.24C19.88 3.12 31.07 1.5 42.51.82c11.44-.69 32.27.52 38.95.31C88.14.93 82.93-.48 82.6-.42M78.22-.79c10.95.19 24.43 3.51 33.79 4.86s17.81 1.35 22.35 3.24C138.9 9.2 140.38 12.82 139.22 15.39c-1.16 2.58-5.06 5.5-11.81 7.38C120.65 24.64 109.83 25.48 98.71 26.65c-11.12 1.17-26.13 3.41-38.01 3.12C48.82 29.49 36.61 26.84 27.42 24.95c-9.2-1.89-17.6-4.69-21.9-6.54-4.3-1.85-5.55-2.38-3.9-4.57 1.65-2.2 6.9-6.73 13.81-8.6 6.92-1.87 17.09-1.87 27.7-2.61C53.73 1.89 73.14 1.28 79.06.82 84.97.36 78.92-.06 78.61-.12" stroke="none" stroke-width="0" fill="#fff"/><path d="M51.98 1.36C62.41.8 75.83.61 87.12.96c11.28.35 24.09.81 32.55 2.52C128.14 5.19 134.63 8.77 137.91 11.24 141.2 13.7 142.08 16.26 139.39 18.28 136.69 20.31 129.93 21.92 121.75 23.38c-8.17 1.46-19.84 2.82-31.41 3.66-11.56.84-26.62 1.86-37.97 1.39C41.01 27.96 30.55 25.79 22.19 24.23c-8.36-1.57-16.62-3.1-19.97-5.18-3.35-2.08-2.89-4.7-.11-7.3C4.9 9.15 9.96 5.2 18.93 3.44 27.91 1.68 48.9 1.88 55.96 1.21c7.07-.67 5.2-1.79 5.35-1.79M65.68.71C76.35.04 89.07-.68 99.34.05c10.26.74 21.05 2.94 27.93 5.07C134.15 7.25 139.77 10.12 140.61 12.85 141.46 15.58 137.3 19.07 132.37 21.48c-4.92 2.41-12.08 4.84-21.31 5.85C101.83 28.34 88.95 27.8 76.99 27.55 65.03 27.29 50.25 26.61 39.28 25.78c-10.97-.82-21.43-1.33-28.11-3.19C4.49 20.73-.27 16.97-.8 14.61c-.53-2.35 3.46-3.96 8.77-6.16 5.3-2.2 13.69-5.84 23.04-7.02C40.36.24 58.26 1.54 64.06 1.34c5.8-.2 1.66-1.07 1.73-1.13" stroke="#000" stroke-width="1" fill="none"/></g><g transform="translate(495.6686865106808 459.27822744883747) rotate(0 9.463470458984375 33.55932879321)"><text x="0" y="47.305229866908846" font-family="Excalifont, Segoe UI Emoji" font-size="53.69492606913603" fill="#868e96" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">{</text></g><g transform="translate(526.5767227416657 459.08862679609206) rotate(0 10.306587219238281 33.748929520855256)"><text x="0" y="47.572491052597584" font-family="Excalifont, Segoe UI Emoji" font-size="53.99828723336843" fill="#868e96" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">}</text></g><g transform="translate(613.0967560000001 451.83755599999995) rotate(0 41.51995849609375 25)"><text x="0" y="17.619999999999997" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">Server</text><text x="0" y="42.62" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">Filestore</text></g><g transform="translate(41.9415140000001 553.114777) rotate(0 46.49419403076172 16.100000000000023)"><text x="0" y="25.311999999999998" font-family="Nunito, Segoe UI Emoji" font-size="28" fill="#1971c2" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">Server</text></g><g transform="translate(88.43570800000009 372.659992) rotate(0 111.5524673461914 17.5)"><text x="0" y="24.668" font-family="Excalifont, Segoe UI Emoji" font-size="28" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">Monitoring Flow</text></g><g stroke-linecap="round" transform="translate(10.000000000000114 346.17507) rotate(0 387.91186799999997 132)"><path d="M32 0C213.79-2.66 395.53-2.73 743.82.0M32 0C179.59-2.15 327.93-2.76 743.82.0m0 0C764.45-.42 775.27 9.49 775.82 32m-32-32C763.27-2.21 775.53 10.92 775.82 32m0 0C773.67 110.85 774.35 189.85 775.82 232m0-2e2C774.8 103.44 775.66 173.72 775.82 232m0 0C777.33 251.51 766.05 262.59 743.82 264m32-32C773.88 253.26 763.25 266 743.82 264m0 0C490.81 265.25 239.55 265.2 32 264m711.82.0C561.15 265.66 378.57 265.52 32 264m0 0C11.85 262.39-.65 254.49.0 232m32 32C9.65 266.29 1.04 251.12.0 232m0 0C2.73 155.81.63 77.03.0 32M0 232c-.72-46.59.34-93.19.0-2e2m0 0C-.12 8.9 11.14 1.94 32 0M0 32C-.56 10.74 10.98.52 32 0" stroke="#1e1e1e" stroke-width="1" fill="none"/></g><g stroke-linecap="round"><g transform="translate(299.21256300000005 437.1250131531609) rotate(0 66.12870750000002 32.77502856138773)" fill-rule="evenodd"><path d="M0 0M0 0M2.36 3.38C3.58 2.03 3.88 1.53 4.99.36M2.36 3.38C2.96 2.74 3.4 2.21 4.99.36M5.38 6c.36-1 1.61-2.11 5.25-6.03M5.38 6C7.05 4.5 8.5 2.23 10.63-.03M7.74 9.38C9.45 6.91 12.15 3.42 15.62.33M7.74 9.38C9.69 7.29 10.79 5.67 15.62.33M10.11 12.76C13.23 7 18.28 3.52 21.26-.07M10.11 12.76c4-4.73 7.71-7.92 11.15-12.83M12.47 16.14C16.95 8.74 21.24 5.83 26.25.29M12.47 16.14c5.17-4.33 9.9-9.78 13.78-15.85M15.49 18.76c2.65-5.39 7.73-9.3 16.4-18.86M15.49 18.76c3.56-4.16 7.26-8.58 16.4-18.86M17.85 22.14c4.7-3.03 9.42-7.78 19.03-21.88M17.85 22.14C22.18 16.24 27.84 8.89 36.88.26M20.21 25.52C29.12 17.01 35.05 8.26 42.52-.14M20.21 25.52c6.48-7.8 12.31-14.44 22.31-25.66M23.23 28.15C28.03 20.09 33.7 15.98 47.51.22M23.23 28.15C30.08 20.27 36.56 11.88 47.51.22M25.6 31.53C38.49 19.08 47.06 5.22 53.15-.17M25.6 31.53C34.16 20.84 41.98 11.98 53.15-.17M1.06 65.85C18.7 43.65 39.63 23.64 58.14.19M1.06 65.85C16.64 47.46 30.44 31.19 58.14.19M6.05 66.21C22.01 51.83 33.26 34.28 63.78-.21M6.05 66.21C23.76 47.26 41.76 26.75 63.78-.21M11.03 66.57C27.93 47.25 48.18 24.65 68.77.15M11.03 66.57C28.61 47.28 44.53 28.19 68.77.15M16.68 66.17C35.32 46.29 51.48 24.2 74.41-.24M16.68 66.17C33.05 47.5 50.16 27.64 74.41-.24M21.66 66.53C34.99 48.89 48.44 34 79.4.12M21.66 66.53C44.13 41.65 65.11 15.01 79.4.12M27.31 66.14C47.87 38.41 73.56 12.43 85.04-.28M27.31 66.14C45.88 44.71 64.62 22.37 85.04-.28M32.29 66.5C46.87 50.46 60.33 30.96 90.03.08M32.29 66.5C43.37 51.97 56.35 37.93 90.03.08M37.94 66.1C52.78 45.32 69.57 29.12 95.67-.31M37.94 66.1C55.8 46.84 72.78 27.81 95.67-.31M42.92 66.46C63.7 41.63 83.72 21.75 100.66.05M42.92 66.46C57.83 48.42 73.24 31.38 100.66.05M48.57 66.07C67.21 46.47 82.54 24.77 105.64.41M48.57 66.07C65.06 48.92 79.82 29.21 105.64.41M53.55 66.43c13.36-16.12 28.57-31.86 55.11-63.4M53.55 66.43c12.71-16.06 27.03-33.19 55.11-63.4m-49.46 63c8.89-13.97 19.65-23.41 51.83-59.62M59.2 66.03C71.16 52.47 83.39 38.67 111.03 6.41M64.18 66.4c14.16-17.32 28.6-34.46 49.21-56.61M64.18 66.4C80.29 48.61 96.47 28.71 113.39 9.79M69.83 66c12.61-14.1 26.76-31.2 46.58-53.58M69.83 66c13.4-15.72 29.06-32.65 46.58-53.58M74.81 66.36C92.7 49.6 106.48 30.28 118.77 15.8M74.81 66.36c10.1-14 21.66-26.3 43.96-50.56M80.46 65.97c11.16-9.23 18.14-20.96 40.67-46.8M80.46 65.97c9.17-11.83 20.26-23.29 40.67-46.8M85.44 66.33C95.66 52.62 108.75 39.4 123.5 22.55M85.44 66.33c8-9.57 15.02-17.91 38.06-43.78M91.09 65.93c11.07-10.88 17.7-23.33 35.43-40.75M91.09 65.93c11.35-12.03 22.35-25.32 35.43-40.75M96.08 66.29c14.46-15.08 26.75-31.4 32.8-37.73M96.08 66.29C103.48 57.4 111.39 48.03 128.88 28.56M101.72 65.9C108.98 57.16 116.58 48.5 131.24 31.94M101.72 65.9C110.49 56.91 117.96 47.44 131.24 31.94" stroke="#ced4da" stroke-width=".5" fill="none"/><path d="M0 0C9.87 10.66 19.04 23.77 26.45 32.78M0 0C5.79 8.89 12.44 16.08 26.45 32.78m0 0C17.92 41.43 10.85 51.91.0 65.55M26.45 32.78C20.07 41.29 14.2 48.84.0 65.55m0 0C30.14 65.2 59.82 64.84 105.81 65.55M0 65.55C23.17 66.44 46.75 66.51 105.81 65.55m0 0c9.22-10.77 13.71-20.15 26.45-32.77M105.81 65.55C111.6 58.75 116.07 50.71 132.26 32.78m0 0C124.36 23.1 120.13 15.36 105.81.0m26.45 32.78C125.01 23.41 118.15 14.7 105.81.0m0 0C84.15-.28 62.96-.85.0.0M105.81.0C80.48.52 55.26-.06.0.0M0 0M0 0" stroke="#000" stroke-width="1" fill="none"/></g></g><mask/><g transform="translate(515.4947120000004 281.1235469999999) rotate(0 165.9898223876953 25)"><text x="0" y="17.619999999999997" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">server updates the client's event</text><text x="0" y="42.62" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="start" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">queries when the GUI is updated</text></g><g transform="translate(222.48990827539058 262.401599) rotate(0 120.73989868164057 25)"><text x="120.73989868164062" y="17.619999999999997" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="middle" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">events are streamed</text><text x="120.73989868164062" y="42.62" font-family="Excalifont, Segoe UI Emoji" font-size="20" fill="#1e1e1e" text-anchor="middle" style="white-space:pre" direction="ltr" dominant-baseline="alphabetic">when the client is online</text></g><g stroke-linecap="round"><g transform="translate(500.87830416489874 332.7610136794542) rotate(0 -2.545718082449298 -37.81873333972709)"><path d="M-1.11.49c-.74-4.4-3.42-15.16-3.97-27.94-.55-12.79.72-40.81.67-48.79M.51-.29C.19-4.48-2-13.85-2.88-26.34c-.89-12.49-1.54-40.94-1.93-48.9" stroke="#868e96" stroke-width="4" fill="none"/></g><g transform="translate(500.87830416489874 332.7610136794542) rotate(0 -2.545718082449298 -37.81873333972709)"><path d="M-2.99-74.74 1.15-60.55-10.4-62-5.78-77.03" stroke="none" stroke-width="0" fill="#868e96" fill-rule="evenodd"/><path d="M-4.81-75.24c2.19 2.14 2.24 7.53 6.82 13.36M-4.81-75.24C-3.75-71.58-2.02-68.28 2.01-61.88m0 0C-3.19-62.53-5.4-61.51-10.66-61.42M2.01-61.88C-1.51-61.47-3.73-61.53-10.66-61.42m0 0C-7.93-67.42-5.6-70.82-4.81-75.24m-5.85 13.82c2.19-3.62 3.24-8.34 5.85-13.82m0 0m0 0" stroke="#868e96" stroke-width="4" fill="none"/></g></g><mask/><g stroke-linecap="round"><g transform="translate(118.28839244434641 251.7573262728182) rotate(89.99999999999994 61.49668412789083 20)" fill-rule="evenodd"><path d="M1.76-.66.31 38.1l73.31 2.07L73.28 60.3l50.25-38.46-49.79-40.7L73.77-.12 1.84 1.53" stroke="none" stroke-width="0" fill="#fff" fill-rule="evenodd"/><path d="M0 0C-1.68 10.62.6 25.18.0 40M0 0C.41 12.68.22 24.62.0 40m0 0c28.93-1.28 58.52-2.04 73.8.0M0 40C19.09 39.45 36.75 40.04 73.8 40m0 0C75.31 47.38 74.02 52.06 73.8 60m0-20C74.32 43.67 74.78 47.77 73.8 60m0 0c17.05-12.74 34.13-29.12 49.19-40M73.8 60c13.1-12.17 28.29-23.9 49.19-40m0 0C106.82 5.62 91.5-6.16 73.8-20m49.19 40C111.76 10.57 99.76-.34 73.8-20m0 0C73.41-12.49 73.04-5.47 73.8.0m0-20C74.34-15.61 72.91-11.26 73.8.0m0 0C43.69-1.16 14.54.73.0.0M73.8.0C49.68.42 24.31.69.0.0M0 0M0 0" stroke="#000" stroke-width="1" fill="none"/></g></g><mask/><g stroke-linecap="round"><g transform="translate(118.4786443828051 251.63169581856982) rotate(89.99999999999994 61.49668412789083 20)" fill-rule="evenodd"><path d="M0 0M0 0M-.26 6.4C1.06 4.39 3.96 2.09 4.99.36M-.26 6.4C1.23 5.14 2.32 3.72 4.99.36M.13 12.04C4.36 8.72 7.32 4 10.63-.03M.13 12.04C2.05 9.18 5.31 6.15 10.63-.03M-.13 18.44C5 13.94 6.32 9.61 15.62.33M-.13 18.44C3.51 14.02 7.52 10.85 15.62.33M.27 24.08C5.33 16.51 10.73 10.26 21.26-.07M.27 24.08C6.85 15.24 15.46 6.73 21.26-.07M0 30.48C9.13 18.87 19.71 5.19 26.25.29M0 30.48C5.03 22.8 13.11 15.71 26.25.29M-.26 36.88C8.43 26.09 17.21 17.25 31.89-.1M-.26 36.88C11.95 23.01 22.66 9.95 31.89-.1M2.11 40.26c6.43-7.22 14.95-20.01 34.77-40m-34.77 40C12 29.57 20.86 18.46 36.88.26M7.09 40.62C17.58 30.03 27.18 16.95 42.52-.14M7.09 40.62C17.61 28.5 28.34 15.38 42.52-.14M12.74 40.22C23.47 25.76 36.48 11.9 47.51.22m-34.77 40C24.68 25.66 37.28 12.3 47.51.22M17.72 40.58C29.21 26.7 41.74 10.68 53.15-.17M17.72 40.58C24.88 32.53 32.54 24.52 53.15-.17M23.37 40.19C37.23 25.85 50.43 9.18 58.14.19m-34.77 40c11.49-13.16 22.81-24.3 34.77-40M73.88-17.93C74.38-18.29 74.84-18.98 75.19-19.43m-1.31 1.5C74.16-18.32 74.58-18.78 75.19-19.43M28.35 40.55C36.99 31.86 43.81 21.57 63.78-.21M28.35 40.55C39.44 28.47 49.72 15.78 63.78-.21m10.5-12.07C75.13-13.18 76.86-14.56 78.21-16.81M74.28-12.28C75.49-13.55 76.52-14.4 78.21-16.81M34 40.15c12.52-14.52 25.28-26.6 34.77-40M34 40.15C44.79 29.64 54.89 17.37 68.77.15m5.25-6.03C76.86-7.47 79.07-11.81 81.23-14.19M74.02-5.88C76.25-8.08 78.12-10.37 81.23-14.19M38.98 40.51c10.86-15 22.49-27.6 45.27-52.07M38.98 40.51C56.58 20.12 75.47-1.26 84.25-11.56M43.97 40.87C59.21 24.03 74.5 5.75 87.27-8.94M43.97 40.87C56.84 25.31 70.24 10.14 87.27-8.94M49.61 40.48C64.23 25.5 75.22 9.25 90.29-6.31M49.61 40.48C63.56 25.84 75.93 11.27 90.29-6.31M54.6 40.84C67.21 25.75 82.09 6.14 93.31-3.69M54.6 40.84C70.12 24.3 85.24 5.34 93.31-3.69M60.24 40.44C71.35 28.98 79.35 17.59 96.33-1.07M60.24 40.44C73.49 25.18 85.81 11.02 96.33-1.07M65.23 40.8C76.16 25.84 87.55 15.81 1e2.8m-34.77 40C72.71 33.14 80.33 24.79 1e2.8M70.87 40.41c12.1-11.75 20.54-24.69 32.15-36.98M70.87 40.41c11.07-11.85 20.89-24.2 32.15-36.98M73.89 43.03c7.87-10.15 15.78-18.92 32.15-36.98M73.89 43.03C86.58 28.82 97.6 13.9 106.04 6.05M73.63 49.43C84.79 38.94 94.92 24.88 109.06 8.68M73.63 49.43C83.28 37.4 94.22 25.71 109.06 8.68M74.03 55.07C87.39 38.98 99.77 21.8 112.08 11.3M74.03 55.07C86.9 40.6 101.36 25.43 112.08 11.3M74.42 60.72c9.24-9.46 15.73-17.5 40.68-46.79M74.42 60.72C83.68 49.89 92.05 39.33 115.1 13.93M92.53 45.98c5.58-7.38 12.42-17.69 25.58-29.43M92.53 45.98c7.73-9.17 14.12-16.33 25.58-29.43m-7.47 14.7C114.75 27.42 117.54 23.55 121.79 18.42M110.64 31.25c3.27-4.78 7.94-8 11.15-12.83" stroke="#ced4da" stroke-width=".5" fill="none"/><path d="M0 0C.32 10.31-.01 19.33.0 40M0 0C-1.1 10.82.59 21.43.0 40m0 0C18.34 41.91 39.86 39.92 73.8 40M0 40C15.9 40.34 31.27 39.29 73.8 40m0 0c-1.56 4.51 1.47 12.31.0 20m0-20C73.33 45.64 74.05 49.88 73.8 60m0 0c11.58-8.21 21.69-20.76 49.19-40M73.8 60c12.1-8.7 22.19-18.57 49.19-40m0 0C103.07 2.84 84.76-10.72 73.8-20m49.19 40C107.98 8.23 92.1-4.11 73.8-20m0 0C73.53-15.26 75.25-12.37 73.8.0m0-20C73.99-15.47 74.29-11.43 73.8.0m0 0C57.11-1.63 42.67-.7.0.0M73.8.0C46.77-.01 17.28-1.05.0.0M0 0M0 0" stroke="#000" stroke-width="1" fill="none"/></g></g><mask/></svg></div><figcaption><a class=image-link href=client_events_arch.svg><i class="fa fa-download"></i></a>
Client Event Architecture</figcaption></figure></p><h2 id=installing-client-event-queries>Installing client event queries.</h2><p>Each client has a set of event queries that it is constantly running
called an <code>Event Table</code>. The server can update the client&rsquo;s event
tables based on client labels:</p><ul><li><p>Event Artifacts within label group &ldquo;All&rdquo; apply to all clients
regardless of label or OS type (Note that artifact preconditions are
still honored).</p></li><li><p>Event Artifacts can target specific label groups. If the client has
that label applied, the event table for that client will include
these event artifacts as well.</p></li></ul><p><figure id=f9a2c2bcbc84e510e697a250d071bfca><div data-featherlight=#f9a2c2bcbc84e510e697a250d071bfca class=figure><img src=updating_client_events.png alt="Update client events"></div><figcaption><a class=image-link href=updating_client_events.png><i class="fa fa-download"></i></a>
Update client events</figcaption></figure></p><div class="mynotices tip"><div heading=" Controlling event queries on clients using labels "><p>Note that label group membership is dynamic - clients may be added or
removed from label groups at any time by simple applying or remove the
relevant label. Applying a label to a client automatically updates the
client event monitoring queries as well.</p><p>In this way it is possible to move clients into label groups that
require different monitoring queries - for example perhaps you wish to
monitor only some of your end points for powershell or psexec
executions some of the time, simply apply the relevant label.</p></div></div><h2 id=selecting-event-artifacts-to-apply>Selecting event artifacts to apply</h2><p>Velociraptor uses an &ldquo;Artifact&rdquo; to package VQL queries in a structured
YAML file. Event queries are no different - they are contained within
<code>Event Artifacts</code>. In the next step we can select which artifacts will
be applied to this label group.</p><p>For this example, we select the <code>Windows.ETW.DNS</code> artifact to collect
DNS lookup from clients.</p><p><figure id=a4dac4b574f1cd97cc0f2e4d9e4986ee><div data-featherlight=#a4dac4b574f1cd97cc0f2e4d9e4986ee class=figure><img src=dns_monitoring.png alt="Monitoring for DNS lookups"></div><figcaption><a class=image-link href=dns_monitoring.png><i class="fa fa-download"></i></a>
Monitoring for DNS lookups</figcaption></figure></p><div class="mynotices note"><div heading=" Searching for artifact "><p>While the artifact selection UI might look very similar to the new
collection UI or new hunt UI, the main difference is that the artifact
selection UI in the Event selection workflow only shows event
artifacts.</p><p>Event artifacts are identified by their <code>type: CLIENT_EVENT</code> entry in
the definition YAML.</p><p>If you add a new event artifact, be sure to designate it as a
CLIENT_EVENT type or else it will not appear in the UI and the user
can not select it.</p></div></div><h2 id=inspecting-the-current-monitoring-table>Inspecting the current monitoring table</h2><p>The current configuration can be viewed by simply clicking the &ldquo;Show
client monitoring table&rdquo; button.</p><p><figure id=675946a868a749e98847ee7952c35172><div data-featherlight=#675946a868a749e98847ee7952c35172 class=figure><img src=inspecting_table.png alt="Inspecting client monitoring table"></div><figcaption><a class=image-link href=inspecting_table.png><i class="fa fa-download"></i></a>
Inspecting client monitoring table</figcaption></figure></p><h2 id=viewing-collected-events>Viewing collected events.</h2><p>Once the client syncs its client monitoring table, it will start
forwarding events to the server. Events are simply rows returned by
the VQL query. The server simply stores these rows in the filestore
and provides a timeline based UI to inspect the data.</p><p><figure id=20a66d67f617dd6fda4c1bd92b00c1dc><div data-featherlight=#20a66d67f617dd6fda4c1bd92b00c1dc class=figure><img src=viewing_client_events.png alt="Viewing client events"></div><figcaption><a class=image-link href=viewing_client_events.png><i class="fa fa-download"></i></a>
Viewing client events</figcaption></figure></p><p>The view is split into two halves. The top half is the timeline view
while the bottom half is the table view. The events can be viewed in
the table, while the timeline view provides a quick way to navigate
different time ranges.</p><p>You can see the timeline view is split into three rows:</p><ol><li><code>Table View</code> visualizes the time range visible in the table currently.</li><li><code>Available</code> shows the days which have any events in them.</li><li><code>Logs</code> visualizes the days that have any logs in them (You can view query logs by selecting the <code>Logs</code> pull down on the top right).</li></ol><p>In order to keep the table brief the timestamps are abbreviated - you
can hover the mouse over those to get the full timestamp. Usually the
exact timestamp in the table is not important as we can see a
visualization of the time range in the timeline above.</p><p>You can zoom in and out of the visible time ranges using <code>Ctrl-Mouse Wheel</code> or by clicking the timeline itself.</p><p><figure id=7d029a7c72f88ff18cec6efbab189222><div data-featherlight=#7d029a7c72f88ff18cec6efbab189222 class=figure><img src=event-monitoring-1.png alt="Interacting with the timeline"></div><figcaption><a class=image-link href=event-monitoring-1.png><i class="fa fa-download"></i></a>
Interacting with the timeline</figcaption></figure></p><p>By clicking the tool bar it is possible to page through the table to
view visible events. If you need to export the data, simply click the
<code>Export</code> button and select either JSON or CSV format. The export
functionality applies to the visible time range so you can finely tune
which events should be exported (simply zoom the visible range in or
out).</p><div class="mynotices note"><div heading=" Client side buffering "><p>Although VQL queries emit rows in real time, Velociraptor does not
forward the event row immediately to the server. This is done to avoid
too-frequent communications with the server. Instead, the client will
batch rows in memory (by default for 120 seconds) and send them in a
single POST upload. This means that it could take up to 2 minutes for
events to appear at the server once a new client event table is
installed.</p></div></div><h2 id=further-processing-client-monitoring-events>Further processing client monitoring events.</h2><p>Client event queries simply run on the endpoint and forward rows to
the server. The event queries generally fall into two types:</p><ol><li><p>Collecting real time data such as ETW logs, process executions
logs, Sysmon logs etc. These are typically collected by
Velociraptor and sent directory to an external system (e.g. Elastic
or Splunk). Typically the VQL for such queries contains minimal
filtering and simply forwards all events to the server.</p></li><li><p>Selective and targeted queries. These artifacts contain refined
detection and enrichment log within the VQL query itself such that
only high value events are actually forwarded. These more targeted
queries send few rows but when an event is detected, it probably
should be escalated.</p></li></ol><p>In either case, Velociraptor itself does not do anything with the
events collected by default, other than write them to storage. Further
server side processing is needed using <a href=/docs/server_automation/server_monitoring/>server side event queries</a>.</p><footer class=footline></footer></div></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1728917965></script><script src=/js/perfect-scrollbar.min.js?1728917965></script><script src=/js/perfect-scrollbar.jquery.min.js?1728917965></script><script src=/js/jquery.sticky.js?1728917965></script><script src=/js/featherlight.min.js?1728917965></script><script src=/js/highlight.min.js?1728917965></script><script>hljs.highlightAll()</script><script src=/js/modernizr.custom-3.6.0.js?1728917965></script><script src=/js/learn.js?1728917965></script><script src=/js/hugo-learn.js?1728917965></script></body></html>